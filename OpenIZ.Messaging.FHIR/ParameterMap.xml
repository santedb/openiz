<?xml version="1.0" encoding="utf-8" ?>
<!--
 - Copyright 2015-2017 Mohawk College of Applied Arts and Technology
 - 
 - 
 - Licensed under the Apache License, Version 2.0 (the "License"); you 
 - may not use this file except in compliance with the License. You may 
 - obtain a copy of the License at 
 - 
 - http://www.apache.org/licenses/LICENSE-2.0 
 - 
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
 - License for the specific language governing permissions and limitations under 
 - the License.
 - 
 - User: justi
 - Date: 2016-8-2
 -->
<QueryParameterMap xmlns="http://openiz.org/model/fhir">

  <type model="MARC.HI.EHRS.SVC.Messaging.FHIR.Resources.ResourceBase, MARC.HI.EHRS.SVC.Messaging.FHIR, Version=2.0.0.0">
    <map fhir="_id" model="id"/>
    <map fhir="_lastUpdated" model="modifiedOn"/>
  </type>
  <type model="MARC.HI.EHRS.SVC.Messaging.FHIR.Resources.ImmunizationRecommendation, MARC.HI.EHRS.SVC.Messaging.FHIR, Version=2.0.0.0">
    <map fhir="vaccine-type" model="participation[Product].player.typeConcept" type="concept"/>
    <map fhir="dose-number" model="doseSequence"/>
    <map fhir="date" model="creationTime"/>
    <map fhir="patient" model="participation[RecordTarget].player.id"/>
    <map fhir="patient.gender" model="participation[RecordTarget].player@Patient.genderConcept" type="concept"/>
    <map fhir="patient.name" model="participation[RecordTarget].player.name.component.value" />
    <map fhir="patient.birthDate" model="participation[RecordTarget].player@Person.dateOfBirth"/>
  </type>
  
  <type model="MARC.HI.EHRS.SVC.Messaging.FHIR.Resources.Immunization, MARC.HI.EHRS.SVC.Messaging.FHIR, Version=2.0.0.0">
    <map fhir="vaccine-code" model="participation[Consumable].player.typeConcept" type="concept"/>
    <map fhir="dose-sequence" model="doseSequence"/>
    <map fhir="date" model="actTime"/>
    <map fhir="patient" model="participation[RecordTarget].player.id"/>
    <map fhir="patient.gender" model="participation[RecordTarget].player@Patient.genderConcept" type="concept"/>
    <map fhir="patient.name" model="participation[RecordTarget].player.name.component.value" />
    <map fhir="patient.birthDate" model="participation[Location].player@Person.dateOfBirth"/>
    <map fhir="in-catchment" model="tag[catchmentIndicator].value"/>
    <map fhir="is-outreach" model="relationship[HasComponent].source.tag[outreach]"/>
    <map fhir="location" model="participation[Location].player.id"/>
    <map fhir="location.name" model="participation[Location].player.name.component.value"/>
    <map fhir="location.identifier" model="participation[Location].player.identifier" type="identifier"/>
  </type>

  <type model="MARC.HI.EHRS.SVC.Messaging.FHIR.Resources.Patient, MARC.HI.EHRS.SVC.Messaging.FHIR, Version=2.0.0.0">
    <map fhir="name" model="name.component.value"/>
    <map fhir="family" model="name.component[Family].value"/>
    <map fhir="given" model="name.component[Given].value"/>
    <map fhir="address" model="address.component.value"/>
    <map fhir="gender" model="genderConcept" type="concept"/>
    <map fhir="identifier" model="identifier" type="identifier"/>
    <map fhir="provider" model="participation[HealthcareProvider].player.id"/>
    <map fhir="provider.name" model="participation[HealthcareProvider].player.name.component.value"/>
    <map fhir="provider.address" model="participation[HealthcareProvider].player.address.component.value"/>
    <map fhir="location" model="participation[DedicatedServiceDeliveryLocation].player.id"/>
    <map fhir="location.name" model="participation[DedicatedServiceDeliveryLocation].player.name.component.value"/>
    <map fhir="location.address" model="participation[DedicatedServiceDeliveryLocation].player.address.component.value"/>
  </type>
</QueryParameterMap>